<h1>Chapter 13</h1>
Chapter 13 summary
비동기 프로그래밍<br>

<h2><strong>동기 처리 방식과 비동기 처리 방식</strong></h2>

예) 커피 전문점에서 커피 주문하고 마시기

<div style="border:1px solid #ccc; padding:10px; width:fit-content; margin-bottom:12px;">
  <strong>&lt;동기 처리 방식&gt;</strong><br>
  <ul>
    <li>A라는 사람이 커피를 주문하면 그 주문을 받아서 커피를 만들고 A에게 넘겨준다.</li>
    <li>뒤에 아무리 많은 손님이 있어도 한번에 하나의 손님만 처리한다.</li>
    <li>주문을 받고 커피를 만드는 것이 한 과정이기 때문에 대기 줄이 점점 더 길어지고 주문을 처리하는데도 시간이 걸린다.</li>
  </ul>
</div>

<div style="border:1px solid #ccc; padding:10px; width:fit-content;">
  <strong>&lt;비동기 처리 방식&gt;</strong><br>
  <ul>
    <li>A라는 사람이 커피를 주문하면 그 주문을 주방으로 넘기고,</li>
    <li>A에게는 진동벨을 주면서 커피가 완성되면 알려주겠다고 한다.</li>
    <li>대기하고 있던 B의 주문을 받고 진동벨을 건네준다.</li>
    <li>중간에 A의 커피가 완성되면 A에게 알려 준다.</li>
  </ul>
</div>

<br>

<img src="images/동기.png" style="width:700px;" alt="동기 vs 비동기 처리방식 다이어그램">
<p><strong>함수 이름을 콜백으로 사용하기</strong></p>

<div style="display: flex; justify-content: space-between; gap: 40px;">
  <div>
    <strong>예상하는 프로그램 흐름</strong><br><br>
    <div style="background-color: #f5f5f5; padding: 10px; font-family: monospace; white-space: pre;">
function order(coffee) {
  // coffee 주문
  // 3초 기다린 후 완료 표시
}

function display(result) {
  // 커피 완료 표시
    </div>
  </div>

  <div>
    <strong>콜백을 사용한 프로그램 흐름</strong><br><br>
    <div style="background-color: #f5f5f5; padding: 10px; font-family: monospace; white-space: pre;">
function order(coffee, <span style="border: 1px dotted red;">callback</span>) {
  // coffee 주문
  // 3초 기다린 후 완료 표시
}

function display(result) {
  // 커피 완료 표시
}

order("아메리카노", <span style="border: 1px dotted red;">display</span>);
    </div>
  </div>
</div>
<p><strong>익명 콜백 사용</strong></p>
<p>예) 1초마다 A -&gt; B -&gt; C -&gt; D -&gt; STOP! 순으로 표시하기</p>

<div style="display: flex; justify-content: space-between; gap: 40px;">
  <div style="background-color: #f5f5f5; padding: 12px; font-family: monospace; white-space: pre;">
function displayLetter() {
  console.log("A");
  setTimeout(() =&gt; {
    console.log("B");
    setTimeout(() =&gt; {
      console.log("C");
      setTimeout(() =&gt; {
        console.log("D");
        setTimeout(() =&gt; {
          console.log("stop!");
        }, 1000);
      }, 1000);
    }, 1000);
  }, 1000);
}
displayLetter();
  </div>

  <div style="align-self: center;">
    콜백이 계속 반복되는 상태를 ‘<strong>콜백 지옥</strong>’이라 한다
  </div>
</div>
<p><strong>프로미스</strong></p>

<ul>
  <li>콜백 안에 콜백, 그 안에 또 콜백 …. ➔ 콜백 지옥</li>
  <li>콜백을 사용했을 때의 복잡함을 피하기 위해, ES6부터 “프로미스(promise)” 등장.</li>
</ul>

<p>
  처리가 성공했을 때 실행할 함수와 성공하지 못했을 때 실행할 함수를 미리 약속하자~
</p>
<p>
  프로미스를 사용하려면 <code>Promise</code> 객체를 먼저 만들어야 한다.<br>
  성공했을 때 실행할 함수 <code>resolve()</code>와 실패했을 때 실행할 함수 <code>reject()</code>도 함께 지정
</p>

<div style="background-color:#e8e8e8; display:inline-block; padding:6px 12px; font-family:monospace;">
  new Promise(resolve, reject)
</div>

<p>
  프로미스는 객체를 생성(제작)하는 부분과 소비하는 부분으로 나뉜다.<br>
  프로미스 제작 코드에서 ‘성공’ 과 ‘실패’를 확인한 후 소비 코드로 알려준다.
</p>


