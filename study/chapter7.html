<h1>Chapter 7</h1>
Chapter 7 summary
DOM 활용
<br>
<h2>DOM 트리와 노드</h2>

DOM에는 단순히 태그에 해당하는 요소 노드뿐만 아니라 여러 종류의 노드가 있다.
DOM 트리에서 가지가 갈라져 나가는 부분은 노드라고 하고,
DOM 트리의 시작 부분, 즉 html 노드를 나무의 뿌리에 해당하는 루트 노드라고 한다.

<h3>노드를 구성하는 원칙</h3>

<ul class="dot">
  <li>모든 <span class="bold">HTML</span> 태그는 <span class="bold">요소 노드</span>가 된다.</li>
  <li><span class="bold">HTML</span> 태그에서 사용하는 텍스트 내용은 자식 노드인 <span class="bold">텍스트 노드</span>가 된다.</li>
  <li><span class="bold">HTML</span> 태그에 있는 속성은 모두 자식 노드인 <span class="bold">속성 노드</span>가 된다.</li>
  <li>주석들은 <span class="bold">주석 노드</span>가 된다.</li>
</ul>
<h4>DOM 트리와 노드</h4>

<div style="display: flex; gap: 30px; align-items: flex-start; margin-top: 30px;">
  <!-- 코드 박스 -->
  <div style="flex: 1; border: 1px solid #aaa; padding: 20px; font-family: monospace; font-size: 16px; background: #fff; white-space: pre;">
&lt;!DOCTYPE html&gt;
&lt;html lang="ko"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;DOM Tree 알아보기&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Do it!&lt;/h1&gt;
  &lt;img src="images/doit.jpg" alt="공부하는 이미지"&gt;
&lt;/body&gt;
&lt;/html&gt;
  </div>

  <!-- 구조도 -->
  <div style="flex: 1;">
    <img src="images/dom.png" alt="DOM 트리 구조도" style="width: 100%; border: 1px solid #ccc;">
  </div>
</div>
<h5>노드 리스트</h5>
<ul class="node">
  <li>querySelectorAll()메서드를 사용하면 여러 개의 노드를 한꺼번에 가져올 수 있다.</li>
  <li>가져온 여러 개의 노드 정보를 저장한 것을 노드 리스트라고 한다.</li>
  <li>노드 리스트는 배열과 비슷하게 생겼고 배열처럼 사용할 수 있다. (배열은 아님)</li>
</ul>
<br>

<div style="margin: 20px 0; padding: 15px; border: 1px solid #ccc; font-family: monospace; white-space: pre; background: #fff;">
&lt;h1&gt;노드 리스트 살펴보기&lt;/h1&gt;
&lt;p&gt;HTML&lt;/p&gt;
&lt;p&gt;CSS&lt;/p&gt;
&lt;p&gt;Javascript&lt;/p&gt;
</div>

<div style="font-weight: bold; margin-top: 30px;">콘솔 창에 입력하기</div>

<div style="margin: 10px 0; padding: 10px; border: 1px solid #aaa; width: fit-content; font-family: monospace; background: #fdfdfd;">
document.querySelectorAll("p")
</div>

<div style="margin: 20px 0;">
  <span style="font-weight: bold;">p</span> 요소 노드들을 저장한 노드 리스트 중에서<br>
  두 번째 노드를 가져오려면?
</div>

<div style="margin: 10px 0; padding: 10px; border: 1px solid #aaa; width: fit-content; font-family: monospace; background: #fdfdfd;">
document.querySelectorAll("p")[1]
</div>

<!-- 개발자 도구 이미지 -->
<div style="margin-top: 20px;">
  <img src="images/개발자.png" alt="개발자 도구 노드리스트 결과" style="width: 450px; border: 1px solid #ccc;">
</div>
<h6>웹 문서에 새로운 노드 추가하기</h6><br>
웹 문서에서 처음에는 화면에 보이지 않다가 이벤트가 발생했을 때 화면에 특정한 내용이 표시되도록 하려면?<br>
->특정 이벤트가 발생했을때 DOM 트리에 새로운 노드를 추가한다.
<br>
<p>텍스트 내용이 있는 노드 추가하기</p><br>
새로운 추가할 노드에 텍스트 내용만 있다면<br>
<br> 1) 텍스트 노드를 만들고 (텍스트 내용이 있는 노드)
<br> 2) 요소 노드를 만들어서 (예를 들어, p 요소 노드)
<br> 3) 텍스트 노드를 요소 노드에 연결한 후 (p 요소 노드에 텍스트 내용 연결)
<br> 4) 원하는 영역에 추가합니다. <br>
웹 브라우저에 문서를 열고, 콘솔 창에서 새로운 p 요소 추가하기

<!-- 노드 리스트 결과 박스 (왼쪽 코드 블록 아래로 정렬) -->
<div style="display: flex; margin-top: 20px; gap: 40px;">
  <!-- 코드 블럭 -->
  <div style="border: 1px solid #ccc; padding: 15px; font-family: monospace; white-space: pre; flex: 1;">
&lt;body&gt;
  &lt;h1&gt;노드 리스트 살펴보기&lt;/h1&gt;
  &lt;p&gt;HTML&lt;/p&gt;
  &lt;p&gt;CSS&lt;/p&gt;
  &lt;p&gt;Javascript&lt;/p&gt;
&lt;/body&gt;
  </div>

  <!-- DOM 트리 구조 그림 -->
  <div style="flex: 1;">
    <img src="images/노드 리스트 표.png" alt="DOM 트리" style="max-width: 100%;">
  </div>
</div>

<!-- 결과 출력 박스 -->
<div style="border: 1px solid #ccc; padding: 15px; margin-top: 20px; width: fit-content;">
  <div style="font-weight: bold;">노드 리스트 살펴보기</div>
  HTML<br>
  CSS<br>
  Javascript
</div>
<p>요소 노드 만들기 – <code>createElement()</code></p>

DOM에 새로운 요소를 추가할 때 가장 먼저 요소 노드를 만들어야 한다.  
<br><br>

<div style="border: 1px solid #ccc; padding: 10px; background: #eee; width: fit-content; font-family: monospace;">
  document.createElement(<i>요소명</i>)
</div>

<br>
콘솔 창에 입력하기  
<br><br>

<div style="border: 1px solid #ccc; padding: 10px; font-family: monospace; width: fit-content;">
  let newP = document.createElement("p")
</div>
<p>텍스트 노드 만들기 – createTextNode()</p>

텍스트 노드를 만드는 메서드는 <strong>createTextNode()</strong><br><br>

<table style="background-color: #eee; border: 1px solid #aaa; padding: 10px; font-family: monospace; font-size: 16px; width: 600px;">
  <tr>
    <td>document.createTextNode(<em>텍스트</em>)</td>
  </tr>
</table>

<br>
새로운 <code>p</code> 요소에 들어갈 내용을 텍스트 노드로 만들고 <code>textNode</code>라는 변수에 저장<br><br>

<table style="background-color: #fff; border: 1px solid #aaa; padding: 10px; font-family: monospace; font-size: 16px; width: 700px;">
  <tr>
    <td>let textNode = document.createTextNode("Typescript")</td>
  </tr>
</table>
<p>자식 노드 연결하기 – appendChild()</p>

아직까지는 <code>p</code> 노드와 텍스트 노드가 따로 만들어진 상태<br>
→ 서로 부모 노드와 자식 노드로 연결해야 한다.

<br><br>

<table style="background-color: #eee; border: 1px solid #aaa; padding: 10px; font-family: monospace; font-size: 16px; width: 600px;">
  <tr>
    <td>부모_노드.appendChild(자식_노드)</td>
  </tr>
</table>

<br><br>
콘솔 창에 입력하기<br><br>

<table style="border: 1px solid #aaa; font-family: monospace; font-size: 16px; background-color: #fff; width: 750px;">
  <tr>
    <td>
      newP.appendChild(textNode)
      <span style="color: #4a6bb1;">&nbsp;&larr; 텍스트 노드를 p 요소에 연결</span>
    </td>
  </tr>
  <tr>
    <td>
      document.body.appendChild(newP)
      <span style="color: #4a6bb1;">&nbsp;&larr; p 요소 노드를 body 노드에 연결</span>
    </td>
  </tr>
</table>
<p>[실습] 장바구니에 상품 추가하기</p>

책 소개 화면에서 [주문하기] 버튼을 클릭하면 그 아래 장바구니 영역에 책 제목 텍스트를 추가하기

<br><br>

<table style="width: 100%; border-collapse: collapse;">
  <tr>
    <td style="border: 1px solid #ccc; padding: 10px; width: 50%; text-align: center;">
      <img src="images/add-before.png" alt="주문 전 화면" style="max-width: 100%;">
    </td>
    <td style="border: 1px solid #ccc; padding: 10px; width: 50%; text-align: center;">
      <img src="images/add-after.png" alt="주문 후 화면" style="max-width: 100%;">
    </td>
  </tr>
</table>

<br><br>

<span style="font-weight: bold;">&lt;생각해 보기&gt;</span><br>
<ul style="line-height: 1.8; margin-left: 0;">
  <li>클릭하는 버튼과 결과를 표시할 영역을 어떤 방식으로 가져올까?</li>
  <li>새로 만든 텍스트를 화면에 어떻게 연결할까?</li>
</ul>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>장바구니에 상품 추가</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 50px;
    }

    .product-box {
      border: 1px solid #ccc;
      padding: 20px;
      width: 300px;
    }

    .product-title {
      font-weight: bold;
      font-size: 18px;
    }

    .desc {
      margin: 10px 0;
      line-height: 1.6;
    }

    #cart {
      margin-top: 10px;
    }

    .cut-line {
      margin-top: 10px;
      color: #999;
    }

    .added-title {
      color: blue;
      font-weight: bold;
      margin-top: 10px;
    }

    button {
      margin-top: 10px;
      padding: 5px 10px;
      font-size: 14px;
    }
  </style>
</head>
<body>

<div class="product-box">
  <div class="product-title">상품 설명</div>
  <div class="desc">
    HTML+CSS+자바스크립트 웹 표준의 정석<br>
    한 권으로 끝내는 웹 기본 교과서<br>
    코딩 왕초보도 OK! 기초부터 활용까지 완전정복
  </div>

  <button id="orderBtn">주문하기</button>
  <div class="cut-line">-------------------------------------</div>

  <div id="cart"></div>
</div>

<script>
  document.getElementById("orderBtn").onclick = function () {
    const titleText = "HTML+CSS+자바스크립트 웹 표준의 정석";

    const newP = document.createElement("p");
    newP.className = "added-title";  // 파란색 스타일 클래스
    const textNode = document.createTextNode(titleText);
    newP.appendChild(textNode);

    document.getElementById("cart").appendChild(newP);
  };
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>속성 노드 만들기 - createAttribute()</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 50px;
    }

    h1 {
      font-size: 40px;
      font-weight: bold;
    }

    ol {
      margin-top: 20px;
      margin-bottom: 30px;
      line-height: 2;
      padding-left: 20px;
    }

    .gray-box {
      background-color: #eee;
      padding: 15px;
      font-family: monospace;
      width: fit-content;
      margin-bottom: 40px;
    }

    .console-title {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
    }

    .code-box {
      border: 1px solid #444;
      font-family: monospace;
      font-size: 16px;
      padding: 10px;
      width: fit-content;
      white-space: pre;
    }
  </style>
</head>
<body>

<p>속성 노드 만들기 – createAttribute()</p>

<ol>
  <li><code>createAttribute()</code> 메서드를 사용해서 속성 노드를 만들고,</li>
  <li>속성의 값은 <code>value</code> 프로퍼티를 사용해서 지정한다.</li>
</ol>

<div class="gray-box">
  document.createAttribute(<em>속성명</em>)<br>
  <span style="font-style: italic;">노드명</span>.value = <span style="font-style: italic;">속성값</span>
</div>

<div class="console-title">콘솔 창에 입력하기</div>

<div class="code-box">
let srcNode = document.createAttribute("src")<br>
srcNode.value = "images/wall.jpg"
</div>

</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>속성 노드 연결하기 – setAttributeNode()</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 50px;
    }

    h1 {
      font-size: 40px;
      font-weight: bold;
    }

    .sub {
      margin-top: 25px;
      margin-bottom: 30px;
    }

    .sub span {
      font-weight: bold;
    }

    .sub .red {
      color: #b30000;
    }

    .gray-box {
      background-color: #eee;
      padding: 15px;
      font-family: monospace;
      width: fit-content;
      margin-bottom: 40px;
      font-style: italic;
    }

    .console-title {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
    }

    .code-box {
      border: 1px solid #444;
      font-family: monospace;
      font-size: 16px;
      padding: 10px;
      width: fit-content;
      white-space: pre;
    }
  </style>
</head>
<body>

<p>속성 노드 연결하기 – setAttributeNode()</p>

<div class="sub">
  새로 만든 속성 노드를 요소 노드에 추가하려면 
  <span>setAttributeNode()</span> 메서드 사용<br>
  <span class="red">setAttribute()와 다른 메서드이므로 꼭 구별해서 사용하세요</span>
</div>

<div class="gray-box">
  요소_노드.setAttributeNode(속성_노드)
</div>

<div class="console-title">콘솔 창에 입력하기</div>

<div class="code-box">
newImg.setAttributeNode(srcNode)
</div>

</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>자식 노드 연결하기 – appendChild()</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 50px;
    }

    h1 {
      font-size: 40px;
      font-weight: bold;
    }

    .desc {
      margin: 30px 0;
      line-height: 1.8;
    }

    .desc b {
      font-weight: bold;
    }

    .console-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .code-box {
      border: 1px solid #444;
      font-family: monospace;
      font-size: 16px;
      padding: 10px;
      width: fit-content;
      white-space: pre;
    }
  </style>
</head>
<body>

<p>자식 노드 연결하기 – appendChild()</p>

<div class="desc">
  <b>img</b> 요소에 속성 노드가 연결되었지만,  
  <b>img</b> 요소는 아직 <b>DOM</b>에 연결되지 않은 상태<br>
  <b>appendChild()</b>를 사용해서 <b>img</b> 요소를 원하는 위치에 연결한다.
</div>

<div class="console-title">콘솔 창에 입력하기</div>

<div class="code-box">
document.body.appendChild(newImg)
</div>

</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>기존 노드 앞에 추가하기 – insertBefore()</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 50px;
    }

    h1 {
      font-size: 40px;
      font-weight: bold;
    }

    .desc {
      margin: 30px 0;
      line-height: 1.8;
    }

    .highlight-box {
      background: #eee;
      padding: 10px 20px;
      width: fit-content;
      font-family: monospace;
      font-size: 18px;
      margin-bottom: 40px;
    }

    .filename {
      font-size: 18px;
      margin: 0 0 10px 0;
    }

    .code-box {
      border: 1px solid #ccc;
      padding: 10px 20px;
      white-space: pre;
      font-family: monospace;
      font-size: 16px;
      position: relative;
    }

    .arrow-label {
      position: absolute;
      left: 110px;
      top: 28px;
      background: royalblue;
      color: white;
      padding: 5px 10px;
      font-size: 14px;
      border-radius: 3px;
    }
  </style>
</head>
<body>

<p>기존 노드 앞에 추가하기 – insertBefore()</p>

<div class="desc">
  지금까지 살펴본 방법은, 새로 만든 요소를 부모 노드의 맨 마지막에 자식 노드로 추가하는 것.<br>
  <b>insertBefore()</b>를 사용하면 특정 노드 앞에 새 요소를 추가할 수 있다.
</div>

<div class="highlight-box">
  insertBefore(새 노드, 기준 노드)
</div>

<div class="filename">07\nodelist.html</div>

<div class="code-box">
  &lt;h1&gt;노드 리스트 살펴보기&lt;/h1&gt;<br>
  &lt;p&gt;HTML&lt;/p&gt;<br>
  &lt;p&gt;CSS&lt;/p&gt;<br>
  &lt;p&gt;Javascript&lt;/p&gt;
  <div class="arrow-label">여기에 새로운 p 요소 추가하기</div>
</div>

</body>
</html>



