<h1>Chapter 14</h1>
Chapter 14 summary
Canvas<br>
<h2><strong>캔버스란</strong></h2>

<ul>
  <li>&lt;canvas&gt; 태그 : 문서에 직접 그림을 그리는 태그로, 흔히 '캔버스'라고 부른다.</li>
  <li>HTML에 포함된 <strong>Canvas API</strong>를 사용하면 웹 문서 상에 직접 그래픽을 그릴 수 있다.</li>
  <li><strong>Canvas API</strong>에는 도형을 그리거나 색칠하는 함수를 비롯해 선의 굵기나 색상 속성처럼 필요한 기능이 미리 만들어져 있어서 자바스크립트를 통해 얼마든지 자유롭게 사용할 수 있다.</li>
  <li>자바스크립트와 <strong>Canvas API</strong>만 있으면 웹 브라우저 화면을 스케치북처럼 사용하면서 그림을 그릴 수 있다.</li>
</ul>
<h3><strong>캔버스의 특징</strong></h3>

<ul>
  <li><strong>Canvas API</strong>를 이용하면 2차원 화면에 한 픽셀씩 그림을 그리는 것이기 때문에 그래픽을 세밀하게 제어할 수 있다.</li>
  <li>→ <strong>UI</strong>나 차트 같은 그래픽보다 게임 캐릭터나 배경 이미지처럼 세밀한 제어가 필요한 그래픽 화면을 만들 때 주로 사용한다.</li>
  <li>→ <strong>Canvas API</strong>는 오디오나 비디오를 포함할 수도 있고 자유로운 그래픽 편집도 가능하기 때문에 사용자의 동작에 반응하여 다양한 효과를 만들 수 있다.</li>
</ul>
<p><strong>웹 문서에 캔버스 만들기</strong></p>

<ul>
  <li>&lt;canvas&gt; 태그는 웹 페이지에서 그래픽을 제어할 수 있는 캔버스 영역을 지정한다.</li>
  <li>캔버스 영역에 그림을 그리거나 이미지나 동영상을 불러와서 조작한다.</li>
  <li>크기를 지정하지 않으면 웹 브라우저에서 지정한 크기만큼 만들어지고,<br>
      <span style="color:gray">width</span>와 <span style="color:gray">height</span> 속성을 사용하면 캔버스 크기를 직접 지정할 수 있다.
  </li>
</ul>

<br>

<div style="background-color:#f5f5f5; padding:10px; font-family:monospace; display:inline-block;">
  기본형<br>
  &lt;canvas&gt;&lt;/canvas&gt;<br>
  &lt;canvas width="너비" height="높이"&gt;&lt;/canvas&gt;
</div>

<br><br>

<div style="background-color:#f5f5f5; padding:10px; font-family:monospace; display:inline-block;">
  &lt;div&gt;<br>
  &nbsp;&nbsp;&lt;h2&gt;크기를 지정하지 않을 때&lt;/h2&gt;<br>
  &nbsp;&nbsp;&lt;canvas&gt;&lt;/canvas&gt;<br>
  &lt;/div&gt;<br>
  &lt;div&gt;<br>
  &nbsp;&nbsp;&lt;h2&gt;크기를 지정했을 때 400*300&lt;/h2&gt;<br>
  &nbsp;&nbsp;&lt;canvas width="400" height="300"&gt;&lt;/canvas&gt;<br>
  &lt;/div&gt;
</div>
<p><strong>렌더링 콘텍스트 만들기</strong></p>

<ul>
  <li>웹 문서에 캔버스 요소를 추가했지만, 이것은 단지 영역만 만든 것이어서 비어 있는 상태</li>
  <li>캔버스에서 무엇인가를 하려면 렌더링 콘텍스트를 만들어야 자바스크립트를 사용할 수 있다.</li>
  <li>콘텍스트는 프로그램에서 무언가를 호출하고 응답할 수 있도록 환경을 만드는 것이라고 이해하자.<br>
      → 콘텍스트를 만드는 순간부터 환경이 갖춰진다.
  </li>
</ul>

<br>

<div style="background-color:#f0f0f0; padding:6px; display:inline-block; font-family:monospace;">
  canvas.getContext("2d")
</div>

<br><br>

<div style="background-color:#f9f9f9; padding:10px; border:1px solid #ccc; font-family:monospace; white-space:pre;">
  <span style="color:deepskyblue;">const</span> <span style="background-color:cyan;">canvas</span> = document.querySelector('canvas'); <span style="color:gray;">// 캔버스 영역을 가져온다.</span>
  <span style="color:deepskyblue;">const</span> <span style="background-color:yellow;">ctx</span> = <span style="background-color:cyan;">canvas</span>.getContext("2d"); <span style="color:gray;">// 2차원 콘텍스트 생성</span>
  <span style="background-color:yellow;">ctx</span>.fillStyle = "rgb(200,0,0)";
  <span style="background-color:yellow;">ctx</span>.fillRect(10, 10, 50, 100);
</div>
<div style="display: flex; justify-content: space-between; gap: 40px;">
  <!-- 좌표 영역 -->
  <div style="flex: 1; text-align: center;">
    <p><strong>캔버스에서 좌표</strong></p>
    <img src="images/좌표.png" alt="좌표 이미지" style="max-width: 100%; height: auto;"><br><br>
    캔버스 영역의 왼쪽 위 구석을 원점(0, 0)으로 해서<br>
    오른쪽으로 갈수록 x 좌표값이 커지고<br>
    아래쪽으로 갈수록 y 좌표값이 커진다.
  </div>

  <!-- 각도 영역 -->
  <div style="flex: 1; text-align: center;">
    <p><strong>캔버스에서 각도</strong></p>
    <img src="images/각도.png" alt="각도 이미지" style="max-width: 100%; height: auto;"><br><br>
    각도의 값은 라디안으로 표기.<br><br>
    <div style="background-color:#f0f0f0; padding:6px; display:inline-block; font-family:monospace;">
      radians = (Math.PI / 180) * degree
    </div>
    <br><br>
    (예) 60°를 라디안으로 표현하려면 (Math.PI / 180) × 60
  </div>
</div>
<p><strong>사각형을 그리는 3가지 메서드</strong></p>

<ul>
  <li>캔버스에서 기본으로 제공하는 도형은 사각형뿐.</li>
  <li>삼각형이나 원을 비롯한 다른 도형들은 경로를 이용해서 직접 해당 형태를 그려야 한다.</li>
</ul>

<br>

<table border="1" cellspacing="0" cellpadding="8" style="border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th>메서드</th>
      <th>기능</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>fillRect(x, y, width, height)</code></td>
      <td>
        · (x, y) 위치부터 시작해서 지정한 너비와 높이만큼 <strong>색이 채워진 사각형</strong>을 그린다.<br>
        · 색상을 지정하지 않으면 검은색으로 채운다.
      </td>
    </tr>
    <tr>
      <td><code>strokeRect(x, y, width, height)</code></td>
      <td>
        · (x, y) 위치부터 시작해서 지정한 너비와 높이만큼 <strong>테두리만 있는 사각형</strong>을 그린다.<br>
        · 선 색을 지정하지 않으면 검은색 선을 사용한다.
      </td>
    </tr>
    <tr>
      <td><code>clearRect(x, y, width, height)</code></td>
      <td>
        · (x, y) 위치부터 시작해서 지정한 너비와 높이만큼 <strong>사각 영역을 지운다.</strong>
      </td>
    </tr>
  </tbody>
</table>
<p><strong>채우기 색과 선 색 지정하기</strong></p>

도형을 채울 색이나 선 색을 지정하는 속성

<br><br>

<table border="1" cellspacing="0" cellpadding="8" style="border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th>속성</th>
      <th>기능</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>fillStyle = "색상"</code></td>
      <td>도형을 채우는 색상을 지정</td>
    </tr>
    <tr>
      <td><code>strokeStyle = "색상"</code></td>
      <td>도형의 선 색상을 지정</td>
    </tr>
  </tbody>
</table>

<br>

<ul>
  <li>이 속성은 사각형뿐만 아니라 캔버스에서 모든 도형에 사용할 수 있다.</li>
  <li>색상 값은 색상 이름이나 <code>rgb/rgba</code>, 16진수값 등 모두 사용할 수 있다.</li>
  <li>채우기 색이나 선 색은 스타일을 지정하면 해당 소스의 뒤에 오는 모든 도형에 똑같이 적용된다.</li>
  <li>도형마다 다른 색을 채우거나 선을 사용하려면 도형마다 스타일을 각각 다르게 지정해야 한다.</li>
</ul>
<p><strong>(예) 사각형 그리기</strong></p>

<div style="background-color:#f9f9f9; padding:12px; border:1px solid #ccc; font-family:monospace; white-space:pre;">
const canvas = document.querySelector('canvas');
const ctx = canvas.getContext("2d");

ctx.fillStyle = "rgb(200, 0, 0)";      // 채우기 색 - 빨강
ctx.storkeStyle = "black";             // 선 색 - 검정
ctx.fillRect(10, 10, 200, 100);        // 빨간색으로 채운 사각형
ctx.strokeRect(10, 10, 200, 100);      // 선이 검은색인 사각형

ctx.fillStyle = "blue";                // 채우기 색 - 파랑
ctx.fillRect(50, 50, 120, 100);        // 파란색으로 채운 사각형

ctx.clearRect(70, 80, 80, 45);         // 사각형 지우기
</div>
<p><strong>사각형 외의 도형 그리기</strong></p>

<ol>
  <li><code>beginPath()</code> 메서드를 이용해 경로가 시작되는 것을 알린다.</li>
  <li>직선이든, 호든 원하는 경로를 그린다. 경로에 따라 사용하는 메서드가 달라진다.</li>
  <li><code>closePath()</code> 메서드를 이용해서 경로의 시작점부터 끝나는 점까지 선을 그린다. 
    (도형을 채울 경우에는 생략 가능)</li>
  <li><code>stroke()</code> 메서드로 테두리를 그리거나 <code>fill()</code> 메서드로 도형을 채운다.</li>
</ol>

<br>

<ul>
  <li><code>beginPath()</code> : 경로가 시작되는 것을 알린다.</li>
  <li><code>closePath()</code> : 경로 그리기가 끝났다고 알린다.</li>
  <li><code>moveTo()</code> : 경로의 시작점을 (x, y)로 옮긴다.</li>
  <li><code>lineTo()</code> : 지정한 위치(x, y)까지 경로를 만든다.</li>
  <li><code>stroke()</code> : 경로를 선으로 그린다.</li>
  <li><code>fill()</code> : 경로를 사용해 채운 도형을 만들었을 때 지정한 색으로 채운다.</li>
</ul>

<br>

<div style="display: flex; gap: 20px;">
  <div style="background-color:#f0f0f0; padding:10px; font-family:monospace;">
    beginPath()<br>
    closePath()<br>
    moveTo(x, y)<br>
    lineTo(x, y)<br>
    stroke()<br>
    fill()
  </div>
</div>
<p><strong>(예) 직선 그리기</strong></p>

<div style="background-color:#f9f9f9; padding:12px; border:1px solid #ccc; font-family:monospace; white-space:pre;">
const canvas = document.querySelector('canvas');
const ctx = canvas.getContext("2d");

ctx.beginPath();        // 경로 시작.
ctx.moveTo(50, 50);     // 경로 시작 위치 지정
ctx.lineTo(200, 200);   // (200, 200)까지 경로를 만들기
ctx.closePath();        // 경로 닫기
ctx.stroke();           // 만든 경로를 선으로 그린다
</div>
<p><strong>삼각형 그리기</strong></p>

처음에 그린 직선의 끝점은 다음 직선의 시작점이 되고 그 직선의 끝점은 다시 다음 직선의 시작점이 된다.<br>
이런 같은 방식으로 직선을 연결해서 도형을 그린다.

<br><br>

<div style="display: flex; gap: 40px; font-family:monospace;">
  <!-- 첫 번째 삼각형 -->
  <div style="background-color:#f9f9f9; padding:12px; border:1px solid #ccc; white-space:pre;">
const canvas = document.querySelector('canvas');
const ctx = canvas.getContext("2d");

ctx.beginPath();
ctx.moveTo(50, 50);
ctx.lineTo(150, 100);
ctx.lineTo(50, 150);
ctx.closePath();
ctx.stroke();
  </div>

  <!-- 두 번째 삼각형 -->
  <div style="background-color:#f9f9f9; padding:12px; border:1px solid #ccc; white-space:pre;">
ctx.beginPath();
ctx.moveTo(150, 100);
ctx.lineTo(250, 50);
ctx.lineTo(250, 150);
ctx.closePath();
ctx.fillStyle = 'rgb(0, 200, 0)';
ctx.fill();
  </div>
</div>
